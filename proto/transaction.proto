syntax = "proto3";

package proto;

option go_package = "github.com/babylonchain/btc-staker/proto";

enum TransactionState {
    SENT_TO_BTC = 0;
    CONFIRMED_ON_BTC = 1;
    SENT_TO_BABYLON = 2;
    UNBONDING_STARTED =3;
    UNBONDING_SIGNATURES_RECEIVED = 5;
    SPENT_ON_BTC = 6;
}

message WatchedTxData {
    bytes slashing_transaction = 1;
    bytes slashing_transaction_sig = 2;
    bytes staker_babylon_pk = 3;
}

message UnbondingTxData {
    bytes unbonding_transaction = 1;
    bytes unbonding_transaction_script = 2;
    bytes unbonding_transaction_validator_sig = 3;
    bytes unbonding_transaction_jury_sig = 4;
}

message TrackedTransaction {
    bytes staking_transaction = 1;
    bytes staking_script = 2;
    uint32 staking_output_idx = 3;
    string staker_address = 4;
    uint32 btc_sig_type = 5;
    bytes babylon_sig_btc_pk = 6;
    bytes btc_sig_babylon_sig = 7;
    TransactionState state = 8;
    bool watched = 9;
}

